<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>p5.js example</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: #1b1b1b;
      color: aliceblue;
    }
  </style>
  <script src="../p5/p5.min.js"></script>
  <script type="module" src="./breath.js"></script>
  <!-- <script src="../addons/p5.sound.js"></script> -->
  <script type="module" src="./julia.js"></script>

</head>

<body>
  <h1>Julia Set</h1>
  <main id="sketch">
  </main>
  <aside>
    <ul>
      <li>pan camera by dragging left mouse</li>
      <li>scale image with mousewheel</li>
      <li>move control point by dragging right mouse</li>
      <li>scale dragging motions using current scale</li>
      <li>implement bounds?</li>
    </ul>
  </aside>
</body>

<script type="module">
  import Breath from "./breath.js";
  import Julia from "./julia.js";

  const s = (p5) => {
    let width = 512;
    let height = 512;
    let emptyColor = p5.color(0,255,0);
    let fullColor = p5.color(0,0,255);
    let breathing = new Breath(2000,2000,2000,2000);
    let julia = new Julia(p5, width, height);
    let zoom = 1;

    p5.setup = function() {
      p5.frameRate(10);
      p5.createCanvas(width, height);
      p5.pixelDensity(1);

      julia.setPosition(0,0);
      julia.setControl(-0.55, -0.55);
      //julia.setScale();

      breathing.play();
    }
    p5.draw = function() {
      breathing.update(p5.deltaTime);



      julia.update();
      julia.render(p5);
    }
    p5.mouseWheel = function(event) {
      console.log(event.delta);
    }
  }
  let sketch = new p5(s, "#sketch")
</script>

</html>